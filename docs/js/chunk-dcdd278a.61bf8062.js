(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dcdd278a"],{"3cbb":function(e,t,n){},"6d3d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("keep-alive",[n("div",[n("tip-box",{attrs:{message:e.message}}),n("appbar",{staticClass:"file-option",on:{error:function(t){e.message={message:t}}}},[n("button",{staticClass:"upload"},[e._v("上传")]),n("button",{staticClass:"download"},[e._v("下载")]),n("button",[e._v("移动")]),n("button",[e._v("重命名")]),n("button",[e._v("删除")]),n("button",[e._v("属性")]),n("file-option")],1),n("fetch-progress",{attrs:{status:e.progress}}),n("sidebar"),n("content-file",{staticClass:"file-content",attrs:{items:e.items},on:{find:e.getFilelist}})],1)])},o=[],a=(n("d3b7"),n("cf63")),i={components:{appbar:function(){return n.e("chunk-c578cf78").then(n.bind(null,"1303"))},sidebar:function(){return n.e("chunk-3b25f1a1").then(n.bind(null,"e896"))},"content-file":function(){return n.e("chunk-7a9f3ec1").then(n.bind(null,"9107"))},"tip-box":function(){return n.e("chunk-527cabfc").then(n.bind(null,"576b"))},"file-option":function(){return n.e("chunk-597c8f41").then(n.bind(null,"6be1"))},"fetch-progress":function(){return n.e("chunk-5f73bccc").then(n.bind(null,"bd58"))}},data:function(){return{data:[],items:[],message:{},progress:!1,headers:null}},mounted:function(){document.title="ADMIN | 文件";var e=new Headers;e.append("X-Auth-Token",Object(a["a"])()),this.headers=e,this.getFilelist()},methods:{getFilelist:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.progress=!0,fetch("/api/v1/file/find",{method:"POST",headers:this.headers,body:JSON.stringify({path:t})}).then((function(e){return e.json()})).then((function(t){t.error?e.message={message:t.error}:(e.items=t.data,e.progress=!1)})).catch((function(t){e.message={message:t}}))},download:function(e){var t=this;this.progress=!0,fetch("/api/v1/file?path=".concat(e),{method:"get",headers:this.headers}).then((function(e){return e.blob()})).then((function(e){console.log(e),t.progress=!1})).catch((function(e){t.message={message:e}}))},remove:function(e){var t=this;this.progress=!0,fetch("/api/v1/file",{method:"POST",headers:this.headers,body:JSON.stringify({path:e})}).then((function(e){return e.json()})).then((function(n){n.error?t.message={message:n.error}:t.message={message:"".concat(e,"已经被删除！")}}))},upload:function(e,t){var n=this,s=new FormData;s.append("file",e),s.append("path",t),fetch("/api/v1/file",{method:"POST",headers:this.headers,body:s}).then((function(e){return e.json()})).then((function(e){e.error?n.message={message:e.error}:n.message={message:"".concat(t,"上传完毕！")}})).catch((function(e){n.message={message:e}}))}}},r=i,c=(n("de2e"),n("d480"),n("2877")),u=Object(c["a"])(r,s,o,!1,null,"26ce6bfd",null);t["default"]=u.exports},"7cb8":function(e,t,n){},d480:function(e,t,n){"use strict";var s=n("7cb8"),o=n.n(s);o.a},de2e:function(e,t,n){"use strict";var s=n("3cbb"),o=n.n(s);o.a}}]);
//# sourceMappingURL=chunk-dcdd278a.61bf8062.js.map